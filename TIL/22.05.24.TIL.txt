22.05.24. 수요일

항해99 D+16

오늘의 목표는 개인과제를 끝내는 것이었다. 우선 비밀번호를 넣어서 게시글이 수정되게끔 하는 것과 닉네임을 검색해서
게시글이 나오게 하는 두 가지를 고민했는데, 첫 번째로 비밀번호를 입력해서 수정해야 하는 곳에서 부터 어려움을 겪었다.
하루종일 고민하고 시도하다가 결국 만들었는데 두 가지가 필요했다. 
하나는 서버 PostService 부분에서 post.getPassword와 requestDto.getPassword가 같은지 비교해주는 것이었다.
계속해서 html에서 비교 확인을 하려고 하니까 어려웠던 것이다. 정보를 업데이트 할 때 정보를 모아서 옮겨주는 requestDto와
원래 db에 저장되어 있던 post.getPassword를 비교해서 같으면 id값을 돌려주고 틀리면 thorw IllegalArgumentException("비밀번호가 일치하지 않습니다")
와 같은 alert를 띄우는 식으로 해결했다. 또 다른 하나는 html에서 수정단계에서 let password로 선언해줄 때 text형식이 아닌 val형식으로 선언해줘야 했다.
text()는 일치하는 모든 요소(p, div)등 의 결합 된 텍스트 태용을 반환하고, val()은 입력 요소 (입력, 선택 등)의 값을 얻는데 사용된다.
두 번째로 아이디를 검색해서 새로 tempHTML을 붙여야 했는데, 처음에 생각했을 때는 클라이언트 단계에서 ajax 콜로 모든 데이터를 받아와서
유저네임이 input 값과 일치하는 것만 붙이면 된다고 생각했다. 근데 조금 고민해보니까 만약에 게시글이 많아진다면, 굉장히 비효율적이라고 
생각했고, 클라이어트와 소통하는 PostController 단계에서 GetMapping을 하나 더 만들어주고 변수값 {username}에 해당하는 데이터를 내려주는
방식으로 해결했다. 어차피 username을 비교해서 tempHTML을 새로 붙이는 방식은 같았으나, 클라이언트에서 하냐, 서버에서 하냐의 차이였다.
더 효율적인 건 후자였다.
역시 어려움을 겪고 그걸 해결해봐야 이해가 빠른것 같다. 하루종일 고민하다가 결국 해결해내니까 성취감도 있었고, 또 스프링부트에 대해서
뭔가 조금 더 알 것 같은 기분도 들었다.

